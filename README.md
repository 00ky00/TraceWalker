# TraceWaler
ラインレイヤに対して算出した『距離』、『移動時間』、『消費カロリー』の属性を付与するためのプラグインです。  
属性付与はfeatureごとにされます。  

# はじめに
地図アプリは最短ルートなど色々な情報を知れて便利ですが、必ずしも自分に合ったものではないと考えています。
例えば散歩では最短ルートである必要がなく、好きな道を選ぶことが醍醐味だったりします。
そんな中で、ユーザー自身の情報を使ったものにしたプラグイン開発したいと考えました。
散歩という活動は、QGISのトレース機能と非常に相性が良いと感じています。そこで新しいルートを開拓したくなるようなツールを開発することを目指しました。
散歩ルートの情報を可視化する一環として、消費カロリーの表示機能を考案しました。これは、ユーザーが散歩の楽しみだけでなく、健康管理の一環としても役立てられるようにするためです。散歩中の消費カロリーが見えることで、ユーザーは新しいルートを探索し、目標達成に向けてモチベーションを高めることができます。
TraceWalkerはユーザーが自分でルートを作成することが出来る主体的なプラグインとなっています。

---
# プラグイン使用方法

1. 当プラグインを開いてください。  
![./icon.png](https://github.com/00ky00/TraceWalker/blob/main/icon.png)
2. 表示メニューにデータを入力してください。  
![./docs/画面1](https://github.com/00ky00/TraceWalker/blob/main/docs/%E7%94%BB%E9%9D%A21.png)  
- Layer：ラインレイヤを選択してください。
- 歩行スピード(km/h)：移動時間を調べるのに必要になります。※歩行スピードが分からない場合、初期値4.8でも問題ありません。
- 体重(kg)：体重を入力してください。消費カロリーを調べるのに必要になります。

  
3. 設定後、OKを押して、以下画面が出たら完了です。  
![./docs/画面2](https://github.com/00ky00/TraceWalker/blob/main/docs/%E7%94%BB%E9%9D%A22.png)
  
実行後の属性テーブル  
[![./docs/画面3](https://github.com/00ky00/TraceWalker/blob/3d938dbfdce6fa84b39bcd7020a52af850f2f64d/docs/%E7%94%BB%E9%9D%A23.png)

カラムについて
- lenght：求めたfeatureの長さの値を格納
- time：求めた移動にかかる時間の値を格納
- kcal：求めた消費カロリーの値を格納
---  

# こだわり

1. 【ユーザーが使いやすいUi】
2. 
3. 【アイコン】
   プラグインの機能から伊能忠敬のイメージがありました。その為、日本列島を現したアイコンを表示。
   より分かりやすく『歩』という文字を追加
   
   


---  
# 改善点

---  

# アイコンについて
国土地理院地球地図日本を加工して作成：https://www.gsi.go.jp/kankyochiri/gm_jpn.html

---  
# 消費カロリーの算出方法

消費カロリーの算出方法として以下の式を使用。  
  
`エネルギー消費量(kcal) = METs(強度) * 体重　* 時間(h) * 1.05`  
  ※当プラグインは、普通歩行を対象としているのでMETsは3.0として設定しています。

---











本プラグインで使われているicon.pngについては国土地理院地球地図日本を加工して作成(https://www.gsi.go.jp/kankyochiri/gm_jpn.html)
